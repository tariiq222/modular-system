# u0646u0638u0627u0645 u0625u062fu0627u0631u0629 u0627u0644u0623u062eu0637u0627u0621 u0648u0627u0644u0633u062cu0644u0627u062a

## u0646u0638u0631u0629 u0639u0627u0645u0629

u062au0645 u062au0637u0648u064au0631 u0646u0638u0627u0645 u0645u062au0643u0627u0645u0644 u0644u0625u062fu0627u0631u0629 u0627u0644u0623u062eu0637u0627u0621 u0648u0627u0644u0633u062cu0644u0627u062a u0641u064a u0627u0644u062au0637u0628u064au0642 u064au0647u062fu0641 u0625u0644u0649:

1. u062au0648u062du064au062f u0623u0633u0644u0648u0628 u0627u0644u062au0639u0627u0645u0644 u0645u0639 u0627u0644u0623u062eu0637u0627u0621 u0641u064a u062cu0645u064au0639 u0623u0646u062du0627u0621 u0627u0644u062au0637u0628u064au0642
2. u062au062du0633u064au0646 u0631u0633u0627u0626u0644 u0627u0644u062eu0637u0623 u0627u0644u0645u0631u0633u0644u0629 u0644u0644u0645u0633u062au062eu062fu0645u064au0646
3. u062au0633u062cu064au0644 u062cu0645u064au0639 u0627u0644u0623u062eu0637u0627u0621 u0628u0634u0643u0644 u0645u0646u0638u0645 u0644u062au0633u0647u064au0644 u062au062du0644u064au0644u0647u0627 u0648u0645u0639u0627u0644u062cu062au0647u0627
4. u062au0648u0641u064au0631 u0648u0627u062cu0647u0629 u0644u0644u0645u0633u0624u0648u0644u064au0646 u0644u0645u0631u0627u062cu0639u0629 u0648u062au062du0644u064au0644 u0627u0644u0623u062eu0637u0627u0621

## u0627u0644u0645u0643u0648u0646u0627u062a u0627u0644u0631u0626u064au0633u064au0629

### 1. u0646u0638u0627u0645 u0627u0644u0627u0633u062au062bu0646u0627u0621u0627u062a u0627u0644u0645u062eu0635u0635u0629

u062au0645 u0625u0646u0634u0627u0621 u0641u0626u0627u062a u0645u062eu0635u0635u0629 u0645u0646 u0627u0644u0627u0633u062au062bu0646u0627u0621u0627u062a u0644u0644u062au0639u0627u0645u0644 u0645u0639 u0645u062eu062au0644u0641 u0623u0646u0648u0627u0639 u0627u0644u0623u062eu0637u0627u0621:

- `BaseException`: u0627u0644u0641u0626u0629 u0627u0644u0623u0633u0627u0633u064au0629 u0644u0643u0644 u0627u0644u0627u0633u062au062bu0646u0627u0621u0627u062a u0627u0644u0645u062eu0635u0635u0629
- `ValidationException`: u0644u0623u062eu0637u0627u0621 u0627u0644u062au062du0642u0642 u0645u0646 u0627u0644u0628u064au0627u0646u0627u062a
- `NotFoundException`: u0644u0639u062fu0645 u0627u0644u0639u062bu0648u0631 u0639u0644u0649 u0627u0644u0645u0648u0627u0631u062f
- `UnauthorizedException`: u0644u0623u062eu0637u0627u0621 u0627u0644u0645u0635u0627u062fu0642u0629
- `ForbiddenException`: u0644u0623u062eu0637u0627u0621 u0627u0644u0635u0644u0627u062du064au0627u062a
- `BusinessLogicException`: u0644u0623u062eu0637u0627u0621 u0645u0646u0637u0642 u0627u0644u0623u0639u0645u0627u0644

### 2. u0645u0631u0634u062d u0627u0644u0627u0633u062au062bu0646u0627u0621u0627u062a

u062au0645 u0625u0646u0634u0627u0621 `AllExceptionsFilter` u0644u0627u0644u062au0642u0627u0637 u062cu0645u064au0639 u0627u0644u0627u0633u062au062bu0646u0627u0621u0627u062a u0641u064a u0627u0644u062au0637u0628u064au0642 u0648u0645u0639u0627u0644u062cu062au0647u0627 u0628u0634u0643u0644 u0645u0648u062du062f. u064au0648u0641u0631 u0647u0630u0627 u0627u0644u0645u0631u0634u062d:

- u062au0633u062cu064au0644 u062au0641u0627u0635u064au0644 u0627u0644u0627u0633u062au062bu0646u0627u0621 u0641u064a u0627u0644u0633u062cu0644u0627u062a
- u062au0646u0633u064au0642 u0631u062f u0627u0644u062eu0637u0623 u0644u0644u0645u0633u062au062eu062fu0645
- u0627u0644u062au0639u0627u0645u0644 u0645u0639 u0623u0646u0648u0627u0639 u0645u062eu062au0644u0641u0629 u0645u0646 u0627u0644u0627u0633u062au062bu0646u0627u0621u0627u062a (HTTP, TypeORM, u0625u0644u062e)

### 3. u062eu062fu0645u0629 u062au0633u062cu064au0644 u0627u0644u0623u062eu0637u0627u0621

u062au0645 u062au0637u0648u064au0631 `ErrorLoggerService` u0644u062au0633u062cu064au0644 u0648u062au062eu0632u064au0646 u0627u0644u0623u062eu0637u0627u0621 u0644u0644u062au062du0644u064au0644 u0644u0627u062du0642u0627u064b. u062au0648u0641u0631 u0647u0630u0647 u0627u0644u062eu062fu0645u0629:

- u062au0633u062cu064au0644 u0627u0644u0623u062eu0637u0627u0621 u0628u0645u0633u062au0648u064au0627u062a u0645u062eu062au0644u0641u0629 (error, warn, debug, fatal)
- u062au062eu0632u064au0646 u0627u0644u0623u062eu0637u0627u0621 u0641u064a u0630u0627u0643u0631u0629 u0627u0644u062au0637u0628u064au0642 u0648u0639u0644u0649 u0627u0644u0642u0631u0635
- u0627u0644u0628u062du062b u0641u064a u0633u062cu0644 u0627u0644u0623u062eu0637u0627u0621 u0648u0627u0633u062au0631u062cu0627u0639 u0627u0644u0623u062eu0637u0627u0621 u0627u0644u0633u0627u0628u0642u0629

### 4. u0645u0639u062au0631u0636 u0627u0644u062au0633u062cu064au0644

u062au0645 u0625u0646u0634u0627u0621 `LoggingInterceptor` u0644u062au0633u062cu064au0644 u0645u0639u0644u0648u0645u0627u062a u0639u0646 u062cu0645u064au0639 u0627u0644u0637u0644u0628u0627u062a u0648u0627u0644u0627u0633u062au062cu0627u0628u0627u062a:

- u062au0633u062cu064au0644 u0645u0639u0644u0648u0645u0627u062a u0627u0644u0637u0644u0628 (u0627u0644u0645u0633u0627u0631, u0627u0644u0637u0631u064au0642u0629, u0627u0644u0628u064au0627u0646u0627u062a, u0627u0644u0645u0633u062au062eu062fu0645)
- u062au0633u062cu064au0644 u0648u0642u062a u0627u0644u0627u0633u062au062cu0627u0628u0629 u0648u062du0627u0644u0629 u0627u0644u0627u0633u062au062cu0627u0628u0629
- u062au062du062fu064au062f u0627u0644u0637u0644u0628u0627u062a u0627u0644u0628u0637u064au0626u0629 u0644u0644u062au062du0633u064au0646

### 5. u0645u064au062fu0644u0648u064au0631 u062au062au0628u0639 u0627u0644u0623u062eu0637u0627u0621

u062au0645 u0625u0646u0634u0627u0621 `ErrorTrackingMiddleware` u0644u062au062au0628u0639 u0627u0644u0637u0644u0628u0627u062a u0648u0627u0644u0623u062eu0637u0627u0621 u0628u0634u0643u0644 u0641u0631u064au062f:

- u0625u0636u0627u0641u0629 u0645u0639u0631u0641 u0641u0631u064au062f u0644u0643u0644 u0637u0644u0628 u0644u062au0633u0647u064au0644 u062au062au0628u0639 u0627u0644u0623u062eu0637u0627u0621
- u062au0633u062cu064au0644 u0623u0648u0642u0627u062a u0627u0644u0627u0633u062au062cu0627u0628u0629 u0648u0623u062fu0627u0621 u0627u0644u0637u0644u0628u0627u062a
- u0631u0628u0637 u0633u062cu0644u0627u062a u0627u0644u0623u062eu0637u0627u0621 u0628u0637u0644u0628u0627u062a u0645u062du062fu062fu0629

### 6. u0631u0645u0648u0632 u0627u0644u0623u062eu0637u0627u0621 u0627u0644u0645u0648u062du062fu0629

u062au0645 u0625u0646u0634u0627u0621 `ErrorCode` u0644u062au0648u062du064au062f u0631u0645u0648u0632 u0627u0644u0623u062eu0637u0627u0621 u0648u0631u0633u0627u0626u0644u0647u0627 u0641u064a u062cu0645u064au0639 u0623u0646u062du0627u0621 u0627u0644u062au0637u0628u064au0642.

## u0643u064au0641u064au0629 u0627u0633u062au062eu062fu0627u0645 u0646u0638u0627u0645 u0627u0644u0623u062eu0637u0627u0621

### u0625u0644u0642u0627u0621 u0627u0644u0627u0633u062au062bu0646u0627u0621u0627u062a u0627u0644u0645u062eu0635u0635u0629

```typescript
// u0645u062bu0627u0644 u0644u0627u0633u062au062eu062fu0627u0645 u0627u0644u0627u0633u062au062bu0646u0627u0621u0627u062a u0627u0644u0645u062eu0635u0635u0629
import { NotFoundException, BusinessLogicException } from '@shared/exceptions';
import { ErrorCode } from '@app/utils/error-codes';

export class UserService {
  async findUserById(id: string) {
    const user = await this.userRepository.findOne({ where: { id } });
    
    if (!user) {
      // u0627u0633u062au062eu062fu0627u0645 u0627u0633u062au062bu0646u0627u0621 u0645u062eu0635u0635
      throw new NotFoundException('User', id);
    }
    
    return user;
  }
  
  async updateEmail(userId: string, email: string) {
    // u0627u0644u062au062du0642u0642 u0645u0646 u0623u0646 u0627u0644u0628u0631u064au062f u063au064au0631 u0645u0633u062au062eu062fu0645
    const existingUser = await this.userRepository.findOne({ where: { email } });
    
    if (existingUser && existingUser.id !== userId) {
      // u0627u0633u062au062eu062fu0627u0645 u0627u0633u062au062bu0646u0627u0621 u0645u0646u0637u0642 u0627u0644u0623u0639u0645u0627u0644 u0645u0639 u0631u0645u0632 u0645u062du062fu062f
      throw new BusinessLogicException(
        'u0627u0644u0628u0631u064au062f u0627u0644u0625u0644u0643u062au0631u0648u0646u064a u0645u0633u062au062eu062fu0645 u0628u0627u0644u0641u0639u0644',
        ErrorCode.EMAIL_ALREADY_EXISTS
      );
    }
    
    // u0625u0643u0645u0627u0644 u0627u0644u062au062du062fu064au062b...
  }
}
```

### u0627u0633u062au062eu062fu0627u0645 u062eu062fu0645u0629 u062au0633u062cu064au0644 u0627u0644u0623u062eu0637u0627u0621

```typescript
import { ErrorLoggerService } from '@app/utils/error-logger.service';

@Injectable()
export class PaymentService {
  constructor(private errorLogger: ErrorLoggerService) {}
  
  async processPayment(paymentData: any) {
    try {
      // u0645u062du0627u0648u0644u0629 u0645u0639u0627u0644u062cu0629 u0627u0644u062fu0641u0639u0629
      return await this.paymentGateway.process(paymentData);
    } catch (error) {
      // u062au0633u062cu064au0644 u0627u0644u062eu0637u0623 u0628u0627u0644u062au0641u0627u0635u064au0644
      this.errorLogger.error('u0641u0634u0644 u0645u0639u0627u0644u062cu0629 u0627u0644u062fu0641u0639u0629', error.stack, {
        paymentId: paymentData.id,
        amount: paymentData.amount,
        userId: paymentData.userId,
        gatewayError: error.message
      });
      
      // u0625u0639u0627u062fu0629 u0625u0644u0642u0627u0621 u0627u0644u0627u0633u062au062bu0646u0627u0621 u0628u0634u0643u0644 u0645u0646u0627u0633u0628
      throw new BusinessLogicException(
        'u0641u0634u0644 u0645u0639u0627u0644u062cu0629 u0627u0644u062fu0641u0639u0629. u064au0631u062cu0649 u0627u0644u0645u062du0627u0648u0644u0629 u0645u0631u0629 u0623u062eu0631u0649 u0644u0627u062du0642u0627u064b.',
        'PAYMENT_PROCESSING_FAILED'
      );
    }
  }
}
```

### u0627u0644u0648u0635u0648u0644 u0625u0644u0649 u0633u062cu0644u0627u062a u0627u0644u0623u062eu0637u0627u0621 u0644u0644u0645u0633u0624u0648u0644u064au0646

u064au0645u0643u0646 u0644u0644u0645u0633u0624u0648u0644u064au0646 u0627u0644u0648u0635u0648u0644 u0625u0644u0649 u0633u062cu0644u0627u062a u0627u0644u0623u062eu0637u0627u0621 u0639u0628u0631 `ErrorLogsController` u0627u0644u0630u064a u064au0648u0641u0631 u0646u0642u0627u0637 u0646u0647u0627u064au0629 u0644u0644u0648u0635u0648u0644 u0625u0644u0649 u0627u0644u0623u062eu0637u0627u0621 u0648u0627u0644u0628u062du062b u0641u064au0647u0627.

## u0627u0644u062au0643u0627u0645u0644 u0645u0639 u0627u0644u062au0637u0628u064au0642

u062au0645 u0625u0636u0627u0641u0629 `ErrorHandlingModule` u0625u0644u0649 `AppModule` u0644u062au0633u062cu064au0644 u062cu0645u064au0639 u0645u0643u0648u0646u0627u062a u0625u062fu0627u0631u0629 u0627u0644u0623u062eu0637u0627u0621 u0628u0634u0643u0644 u0645u0631u0643u0632u064a.